#!/bin/bash -ex

script() {
  name="$1"
  shift
  echo "#!/bin/bash" > "$name"
  echo "$@" >> "$name"
  chmod a+x "$name"
}

cd "$TARGET/usr/local/bin"

script ss 'surf -sp "https://$@"' # ss for secure surf
script s  'surf -sp "http://$@"'  # s for surf

# Some bookmarks, each with isolated cookie file.
# Enable javascript for bookmarks unless -s is passed to bookmark.

bookmark() {
  if [ "$1" == "-s" ]; then
    args="-spc"
    shift
  else
    args="-pc"
  fi
  name="$1"
  url="$2"
  shift 2
  script "$name" 'IFS=+;surf '"$args"' ~/.surf/'"$name"'.txt "'"$url"'"'
}

bookmark gmail https://mail.google.com
bookmark gmail1 https://mail.google.com
bookmark gmail2 https://mail.google.com
bookmark gmail3 https://mail.google.com
bookmark github https://github.com
bookmark github2 https://github.com
bookmark bitbucket https://bitbucket.org
bookmark bitbucket2 https://bitbucket.org
bookmark facebook https://www.facebook.com
bookmark facebook2 https://www.facebook.com
bookmark -s g 'https://google.com/search?q=$*'
